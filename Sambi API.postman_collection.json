{
	"info": {
		"_postman_id": "c1d8bbd7-ed0a-4356-9c0e-77b4db3613ba",
		"name": "Sambi API",
		"description": "Collection for testing Sambi backend endpoints (auth, user, projects, payment). Use {{baseUrl}} and set {{token}} after login.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "28799315"
	},
	"item": [
		{
			"name": "Auth",
			"item": [
				{
					"name": "Register",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"role\": \"mahasiswa\",\n  \"fullName\": \"Mamat juwarti\",\n  \"jenis_kelamin\": \"P\",\n  \"email\": \"241234567891@student.unsika.ac.id\",\n  \"password\": \"Password123!\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/register",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"register"
							]
						}
					},
					"response": []
				},
				{
					"name": "Login",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "",
								"value": "",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"241234567890@student.unsika.ac.id\",\n  \"password\": \"Password123!\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/login",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "Me (requires token)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/auth/me",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"me"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "User",
			"item": [
				{
					"name": "Get Profile (public)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/user/{{userId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"user",
								"{{userId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Profile (auth)",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"nama\": \"Budi Baru\",\n  \"jenis_kelamin\": \"L\",\n  \"bio\": \"Saya mahasiswa\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/user/{{userId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"user",
								"{{userId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Upload Avatar (auth, file)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "avatar",
									"type": "file",
									"src": []
								}
							]
						},
						"url": {
							"raw": "{{baseUrl}}/api/user/{{userId}}/avatar",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"user",
								"{{userId}}",
								"avatar"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Projects",
			"item": [
				{
					"name": "List Projects",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/projects",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"projects"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Project",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/projects/{{projectId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"projects",
								"{{projectId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Project (auth)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"title\": \"Design Logo\",\n  \"description\": \"Need logo for startup\",\n  \"category\": \"design\",\n  \"budget_min\": 100000,\n  \"budget_max\": 300000\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/projects",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"projects"
							]
						}
					},
					"response": []
				},
				{
					"name": "Apply to Project (auth)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"proposal\": \"I can do this in 3 days for 250k\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/projects/{{projectId}}/apply",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"projects",
								"{{projectId}}",
								"apply"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Proposals (auth)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/projects/{{projectId}}/proposals",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"projects",
								"{{projectId}}",
								"proposals"
							]
						}
					},
					"response": []
				},
				{
					"name": "Accept Proposal (auth)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/projects/{{projectId}}/proposals/{{proposalId}}/accept",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"projects",
								"{{projectId}}",
								"proposals",
								"{{proposalId}}",
								"accept"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Payment",
			"item": [
				{
					"name": "Create Intent (Tripay-sim)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"amount\": 100000,\n  \"projectId\": {{projectId}}\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/payment/intent",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"payment",
								"intent"
							]
						}
					},
					"response": []
				},
				{
					"name": "Tripay Callback (webhook)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"reference\": \"DEV-1234567890\",\n  \"status\": \"PAID\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/payment/tripay/callback",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"payment",
								"tripay",
								"callback"
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://localhost:3000/api"
		},
		{
			"key": "token",
			"value": ""
		},
		{
			"key": "userId",
			"value": "1"
		},
		{
			"key": "projectId",
			"value": "1"
		},
		{
			"key": "proposalId",
			"value": "1"
		}
	]
}